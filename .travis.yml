language: android
jdk:
  - oraclejdk8
  - oraclejdk7

sudo: required
android:
  components:
    # Uncomment the lines below if you want to
    # use the latest revision of Android SDK Tools
     - platform-tools
     - tools

    # The BuildTools version used by your project
    - build-tools-25.0.2

    # The SDK version used to compile your project
    - android-25

    # Additional components
#    - extra-google-google_play_services
#    - extra-google-m2repository
#    - extra-android-m2repository
#    - addon-google_apis-google-19

    # Specify at least one system image,
    # if you need to run emulator(s) during your tests
    - sys-img-armeabi-v7a-android-23
    # - sys-img-armeabi-v7a-android-17

before_install:
  - chmod +x gradlew

script:
  - ./gradlew check
  - ./gradlew build connectedCheck
  - ./gradlew projectReport
  - ./gradlew test
  - ./gradlew testDebugUnitTestCoverage coveralls


after_failure: "cat $TRAVIS_BUILD_DIR/app/build/outputs/lint-results-debug.xml"

#language: java
#jdk:
#  - oraclejdk8
#  - oraclejdk7
#
#sudo: false
#env:
#  - TERM=dumb
#
#before_install:
#  - chmod +x gradlew
#
#install:
#  - ./gradlew assemble
#
#script:
#  - ./gradlew check
#
#after_success:
#  - ./gradlew testDebugUnitTestCoverage coveralls
#
#before_cache:
#  - rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
#cache:
#  directories:
#    - $HOME/.gradle/caches/
#    - $HOME/.gradle/wrapper/
